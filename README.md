# MGTools - Magic Garden Assistant

**Version 3.5.6** | All-in-one assistant for Magic Garden with a beautiful unified UI

![MGTools](https://img.shields.io/badge/version-3.5.6-blue) ![Status](https://img.shields.io/badge/status-beta-orange)

---

## üöÄ Quick Start (30 seconds)

1. **Install Tampermonkey**: [Chrome](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo) | [Firefox](https://addons.mozilla.org/en-US/firefox/addon/tampermonkey/) | [Safari](https://apps.apple.com/us/app/tampermonkey/id1482490089)
2. **Click to Install**: **[MGTools.user.js](https://github.com/Myke247/MGTools/raw/main/MGTools.user.js)**
3. **Visit Game**: [Magic Garden](https://magiccircle.gg/r/) - MGTools loads automatically!

That's it! The dock appears at the bottom of your screen. Click any tab to explore features.

---

## üéØ What is MGTools?

MGTools is a powerful userscript that enhances your Magic Garden experience with advanced features like pet management, ability tracking, seed automation, value calculators, timers, and much more - all in a sleek, customizable interface.

**Works on**: Magic Circle, Magic Garden, Starweaver, and Discord embeds!

---

## ‚ú® Key Features

### üêæ Pet Management
- Save unlimited pet loadout presets
- Quick-swap with custom hotkeys
- Real-time hunger timers with color-coded alerts
- Drag-and-drop preset organization

### ‚ö° Ability Tracking
- Real-time ability logs with timestamps
- Notifications for important abilities (Rainbow/Gold/Egg/Plant Growth)
- Custom filters and search
- Clear logs and export functionality

### üå± Seed Manager
- Auto-delete unwanted seeds by species
- Track valuable mutations (Rainbow, Frozen, Wet, Chill)
- Watched seed list for collection tracking
- Bulk actions for seed management

### üíé Value Calculators
- **Live Crop Slot Values** - Shows total value when hovering over crops (centered, gold text)
- **Turtle Timer Estimate** - Countdown shows when hovering over growing crops
- Inventory value tracking
- Garden value calculator
- Friend bonus integration

### ‚è±Ô∏è Smart Timers
- **Turtle Timer** with countdown badge on dock
- Notifications at 100%, 50%, and ready milestones
- Custom timers with pause/resume
- Shop refresh tracker

### üè† Room Monitor & Management
- **NEW: Custom Room Management** - Add, delete, and reorder your tracked rooms
- **NEW: Discord Auto-Detection** - Automatically adds Discord play rooms (play#1-10)
- **NEW: Drag & Drop Reordering** - Organize rooms in your preferred order
- **Enhanced Search** - Type any room code to quickly find and join
- Firebase integration for real-time room status
- Track room activity and player presence with live counts
- All changes save automatically and persist across sessions

### üõí Quick Shop
- **Alt+B** hotkey for instant seed/egg/decor browsing
- Auto-refresh detection
- Manual refresh button
- Stock tracking

### üîí Crop Protection
- Lock crops by species (Pepper, Starweaver, Lychee, etc.)
- Lock crops by mutation (Rainbow, Frozen, Wet, Chilled, Gold)
- **Lock All Mutations** - Quick toggle for all mutation types
- **Lock Only Non-Mutated** - Protect only crops with 0 mutations
- Friend bonus protection threshold
- Prevents accidental harvesting

### üîß Tools & Calculators
- **Sell Price Calculator**
- **Weight Probability Calculator**
- **Pet Appearance Probability Calculator**
- **Ability Trigger Time Calculator**
- **Import Your Garden** - Analyze your garden layout
- **Wiki Resources** - Quick access to Crops, Pets, Abilities, Weather, Multipliers, Shops

### üé® Theme System
- 15+ preset themes (Gaming, Minimal, Vibrant, Dark, Luxury, Steel, Chrome, Titanium, and more)
- Full custom theme editor
- Adjustable opacity for main HUD and popups
- Gradient styles with 12 unique color schemes

### üîî Notifications
- Pet hunger alerts (5min and 15min warnings)
- Shop restock notifications
- Ability event notifications
- Turtle timer milestones

### ‚å®Ô∏è Hotkeys
- Customizable keyboard shortcuts for all features
- Tab navigation (Ctrl+1-7)
- Quick actions (Alt+B for shop)
- Pet preset loading (custom keys)
- Crop highlighting shortcuts (Ctrl+H, Ctrl+C, Ctrl+Shift+H)

---

## üì¶ Installation

### Method 1: One-Click Install (Recommended)

**For Chrome, Edge, Brave, Opera:**
1. Install [Tampermonkey](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)
2. Click [**Install MGTools**](https://github.com/Myke247/MGTools/raw/main/MGTools.user.js)
3. Click **Install** when Tampermonkey opens
4. Done! Visit [Magic Garden](https://magiccircle.gg/r/)

**For Firefox:**
1. Install [Tampermonkey](https://addons.mozilla.org/en-US/firefox/addon/tampermonkey/)
2. Click [**Install MGTools**](https://github.com/Myke247/MGTools/raw/main/MGTools.user.js)
3. Click **Install** when Tampermonkey opens
4. Done! Visit [Magic Garden](https://magiccircle.gg/r/)

**For Safari:**
1. Install [Tampermonkey](https://apps.apple.com/us/app/tampermonkey/id1482490089)
2. Enable the extension in Safari preferences
3. Click [**Install MGTools**](https://github.com/Myke247/MGTools/raw/main/MGTools.user.js)
4. Click **Install** when Tampermonkey opens
5. Done! Visit [Magic Garden](https://magiccircle.gg/r/)

---

### Method 2: Manual Install (Advanced)

If you want to install from the repository file directly:

1. Install Tampermonkey (see links above)
2. Download `MGTools.user.js` from this repo
3. Open Tampermonkey dashboard
4. Click "+" to create new script
5. Delete example code and paste MGTools code
6. Press Ctrl+S (or Cmd+S on Mac) to save
7. Visit Magic Garden - done!

---

### Verification Checklist

After installation, verify everything works:

- [ ] Tampermonkey extension is installed and enabled
- [ ] MGTools appears in Tampermonkey dashboard
- [ ] MGTools is toggled ON (green switch)
- [ ] Dock appears at bottom of screen when you load Magic Garden
- [ ] Clicking dock tabs opens sidebar panels
- [ ] No errors in browser console (F12 ‚Üí Console tab)

---

### First Time Setup

When you first load Magic Garden with MGTools:

1. **The dock appears** at the bottom of your screen (horizontal layout)
2. **Nothing opens automatically** - the interface stays minimal
3. **Click any tab** to explore features (try üêæ Pets first!)
4. **Go to ‚öôÔ∏è Settings** to customize your theme and preferences
5. **Try Shift+Click** on any tab to open a floating widget

**Pro Tip:** Press `Ctrl+H` to see all available hotkeys!

---

## üéÆ How to Use

### The Dock

The **Unified Dock** appears at the bottom (horizontal) or left side (vertical) of your screen.

**Primary Tabs** (always visible):
- üêæ Pets | ‚ö° Abilities | üå± Seeds | üíé Values | ‚è±Ô∏è Timers | üè† Rooms | üõí Shop

**Tail Group** (hover ‚ãØ to reveal):
- üîß Tools | ‚ùì Help | üîî Alerts | ‚å®Ô∏è Hotkeys | ‚öôÔ∏è Settings

**Dock Controls:**
- Click **‚ÜîÔ∏è/‚ÜïÔ∏è** button to flip between horizontal/vertical orientation
- **Drag** the dock to move it anywhere on screen
- **Click** any tab to open the sidebar with that feature
- **Shift+Click** any tab to open a floating widget window

---

### Quick Actions

**Save Pet Preset**:
1. Go to Pets tab
2. Arrange your pets in-game
3. Click "Save Current Pets"
4. Enter preset name

**Load Pet Preset**:
- Click preset name in Pets tab
- Or set custom hotkey in Settings

**Open Shop**:
- Press **Alt+B** to toggle seed/egg shop

**Lock Crops**:
1. Go to Protect tab
2. Check species/mutations you want protected
3. Locked crops can't be harvested until unlocked

**View Crop Values**:
- Stand on any crop in-game
- Value appears in tooltip (gold text)
- Shows total slot value with friend bonus

**Set Turtle Timer**:
1. Click Timers tab
2. Click "Start Turtle Timer" when you plant
3. Countdown appears on Timers dock badge

**Manage Custom Rooms** (NEW!):
1. Click Rooms tab (üè†)
2. **Search for any room**: Type room code in search box at top
3. **Add custom rooms**: Enter room code at bottom and click "Add"
4. **Reorder rooms**: Drag the ‚ãÆ‚ãÆ handle to rearrange
5. **Delete rooms**: Click ‚ùå to remove from your list
6. All changes save automatically!

---

### Customization

1. Click **‚öôÔ∏è Settings** in the tail group
2. **Themes**: Choose from 15+ preset themes
3. **Opacity**: Adjust main HUD and popup transparency
4. **Gradient Style**: 12 unique color schemes (Gaming, Minimal, Obsidian Gold, etc.)
5. **Compact Mode**: Automatically enables when opacity > 95%
6. **Hide Weather**: Toggle weather effects on/off
7. **Export/Import**: Backup your data to JSON file

---

## ‚å®Ô∏è Keyboard Shortcuts

### Tab Navigation
- `Ctrl+1` - Pets tab
- `Ctrl+2` - Abilities tab
- `Ctrl+3` - Seeds tab
- `Ctrl+4` - Values tab
- `Ctrl+5` - Timers tab
- `Ctrl+6` - Rooms tab
- `Ctrl+7` - Shop tab

### Quick Actions
- `Alt+B` - Toggle shop sidebars
- `Escape` - Close shop/modals
- `Ctrl+H` - Clear crop highlights
- `Ctrl+C` - Highlight current crop
- `Ctrl+Shift+H` - Toggle highlight panel

### Custom Hotkeys
Configure your own shortcuts in the **‚å®Ô∏è Hotkeys** tab!

---

## üé® Themes & Styles

### Preset Themes (15+)
1. **Gaming** - Purple/pink gradients with vibrant accents
2. **Minimal** - Clean blue/cyan with subtle effects
3. **Vibrant** - Bold magenta/purple energy
4. **Dark** - Sleek dark mode with blue highlights
5. **Luxury** - Gold/amber elegance
6. **Steel** - Industrial gray/blue
7. **Chrome** - Bright silver/white
8. **Titanium** - Warm metallic tones
9. **Ocean** - Deep blue/teal waves
10. **Forest** - Natural green/earth tones
11. **Sunset** - Warm orange/red gradients
12. **Royal** - Rich purple/gold
13. **Neon** - Bright cyan/magenta
14. **Obsidian** - Dark with gold accents
15. **Arctic** - Cool white/blue

### Gradient Styles (12 options)
- Gaming, Minimal, Dark Blue, Midnight, Obsidian Gold, Purple Dream, Ocean Depths, Forest Mist, Sunset Glow, Royal Purple, Gold-Yellow, Rainbow Burst

**Custom Theme Editor**: Modify every color, gradient, opacity, and effect in Settings!

---

## üîí Crop Protection

Prevent accidental harvesting of valuable crops:

1. Go to **üîí Protect** tab
2. **Lock by Species**: Check boxes for Pepper, Starweaver, Moonbinder, Dawnbinder, etc.
3. **Lock by Mutation**: Check boxes for Rainbow, Frozen, Wet, Chill
4. **Friend Bonus Protection**: Set minimum % before selling is allowed

Locked crops will be protected and cannot be harvested/sold until unlocked.

---

## üê¢ Turtle Timer

Track crop growth with precision:

1. Click **‚è±Ô∏è Timers** tab
2. Click **Start Turtle Timer** when you plant
3. **Countdown badge** appears on Timers dock icon
4. **In-game tooltip** shows estimate when hovering over crops
5. Get **notifications** at key milestones (100%, 50%, ready)
6. **Pause/Resume** anytime

---

## üí° Tips & Tricks

- **Start Minimal**: Keep the sidebar closed, only open what you need
- **Use Hotkeys**: Much faster than clicking for frequent actions
- **Save Presets**: Create pet loadouts for different activities
- **Watch Seeds**: Mark rare seeds to track collection progress
- **Check Version**: Click the version indicator to check for updates
- **Hover Crops**: Stand on crops to see live slot values (gold text)
- **Auto-Compact**: Set opacity > 95% for ultra-compact mode

---

## üéÆ Discord Compatibility

MGTools works when playing Magic Garden through **Discord's activity embed**, but with limitations:

**Recommended Setup:**
1. Right-click the game in Discord
2. Click **"Open in Browser"** or **"Pop Out"**
3. MGTools will work perfectly in the new window/tab

**Why?**: Discord's iframe has security restrictions (CORS) that prevent some features from working correctly.

---

## üÜò Troubleshooting

### UI Not Appearing?
- Make sure Tampermonkey is enabled (check browser toolbar)
- Check that MGTools is active in Tampermonkey dashboard
- Verify script is enabled for `magiccircle.gg` and `magicgarden.gg`
- Try hard refresh (Ctrl+Shift+R or Cmd+Shift+R)
- Check browser console (F12) for errors

### Crop Values Not Showing?
- Make sure you're standing directly on a crop tile
- Check that tooltip appears (hover cursor over crop)
- Values appear in gold text below crop info
- Try reinstalling the script (delete and reinstall from GitHub)

### Features Not Working?
- Ensure you're on the latest version (check Settings ‚Üí About)
- Try exporting your data, then reinstalling the script
- Clear browser cache and reload page
- Check for script conflicts in Tampermonkey

### Shop Not Refreshing?
- Click the **üîÑ Refresh** button in shop sidebar
- Check notifications are enabled in **üîî Notifications** tab
- Verify Alt+B hotkey is not conflicting with browser shortcuts

### Performance Issues?
- Enable **Production Mode** in Settings (already on by default)
- Reduce opacity to 95%+ to enable auto-compact mode
- Disable weather effects in Settings if needed
- Close unused tabs/widgets

---

## üìä Data Export/Import

### Backup Your Data
1. Go to **‚öôÔ∏è Settings** tab
2. Scroll to "Data Management" section
3. Click **Export Settings**
4. Save the `.json` file somewhere safe

### Restore Your Data
1. Go to **‚öôÔ∏è Settings** tab
2. Scroll to "Data Management" section
3. Click **Import Settings**
4. Select your `.json` file
5. All data restored instantly!

### What's Included
- Pet presets (all saved loadouts)
- Pet preset custom hotkeys
- Seed watch lists
- Auto-delete seed lists
- Custom hotkeys
- Theme settings
- All preferences
- Locked crops configuration
- Custom room list (with your additions and order)

---

## üõ†Ô∏è Support & Issues

**Found a bug?** Report it here: [GitHub Issues](https://github.com/Myke247/MGTools/issues)

**Need help?** Check the **‚ùì Help** tab in MGTools for quick tips and guides.

**Want to contribute?** Fork the repo and submit a pull request!

---

## üìù Changelog

See [CHANGELOG.md](CHANGELOG.md) for detailed version history.

### Latest Updates (v3.5.6)
- **v3.5.6**: üêõ **Bug Fixes** - Fixed settings persistence, notification selections, and shop tab caching issues
- **v3.5.5**: ‚ú® **New Features** - "Lock Only Non-Mutated" option, auto-refresh on game updates, improved crop protection naming
- **v3.3.3**: üêõ **Bug Fixes** - Fixed ESC key, room search focus, turtle timers, and egg timer calculations

---

## üìú License

Open Source - Free to use, modify, and share!

---

## üôè Credits

**Created by**: Myke247
**AI Development Assistant**: Claude (Anthropic)
**Community**: Magic Garden players

Special thanks to all contributors and testers!

---

## üéâ Enjoy!

Thanks for using MGTools! May your gardens flourish and your pets stay fed! üå±‚ú®

**Happy gardening!** üåª

---

*Made with ‚ù§Ô∏è for the Magic Garden community*
